@using ComicTracker.Services.Data.Issues.Models;

@using static ComicTracker.Common.GlobalConstants;

@addTagHelper *, ComicTracker.Web

@model IssueDetailsServiceModel

@{
    // If there is no Model.Title, a default title is displayed in this format: {SeriesTitle} #{Number of Issue}
    ViewData["Title"] = @Model.Title != null ?
        Model.Title :
        string.Format(DefaultSeriesRelatedEntityTitleFormat, Model.SeriesTitle, Model.Number);

    if (Model.Description == null)
    {
        Model.Description = DefaultDescription;
    }
}

@section Styles
{
    <link rel="stylesheet" href="~/css/details.css" asp-append-version="true" />
}

<div class="row">
    <partial name="_EntityThumbnail" model="Model" />
    <div class="container-fluid col-xl-8">
        <partial name="_EntityTitle" model="Model" />
        <partial name="_EntityRelatedSeries" model="Model" />
        <div class="product-details">
            <h3 class="undertext">Number: #@Model.Number</h3>
        </div>
        @if (Model.VolumeId != null)
        {
            <a asp-controller="Volume" asp-route-id="@Model.VolumeId">
                @if (Model.VolumeTitle != null)
                {
                    <h2 class="undertext">Volume: @Model.VolumeTitle</h2>
                }
                else
                {
                    <h2 class="undertext">Volume: @Model.VolumeNumber</h2>
                }
            </a>
        }
        @if (Model.ArcId != null)
        {
            <a asp-controller="Arc" asp-route-id="@Model.ArcId">
                @if (Model.ArcTitle != null)
                {
                    <h3 class="undertext">Arc: @Model.ArcTitle</h3>
                }
                else
                {
                    <h3 class="undertext">Arc: @Model.ArcNumber</h3>
                }
            </a>
        }
        <partial name="_EntityScorePartial" model="Model" />
        <partial name="_EntityDescription" model="Model" />
    </div>
</div>

@section Scripts {
    <script src="@Url.Content("~/js/details.js")" type="text/javascript"></script>
}